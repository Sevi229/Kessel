<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KesselLutschi</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }

  .title {
    font-size: 24px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 20px;
  }

  .number-input {
    width: calc(100% - 40px);
    padding: 10px;
    font-size: 18px;
    margin: 0 auto;
    display: block;
    box-sizing: border-box;
  }

  .button-container {
    text-align: center;
    margin-top: 10px;
  }

  .confirm-button,
  .download-button,
  .load-button,.file-input{
    padding: 10px 20px;
    font-size: 18px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-right: 10px;
  }

  .confirm-button {
    background-color: #4CAF50;
    color: white;
  }

  .download-button {
    background-color: #008CBA;
    color: white;
  }

  .load-button {
    background-color: #f44336;
    color: white;
  }
  .file-input{
    background-color: #4936f4;
    color: white;
  }

  body {
    font-family: Arial, sans-serif;
  }


  .title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }

 

  .label-container {
    display: flex;
    justify-content: space-between;
    width: 100%;
    max-width: 65%;
    margin: 0 auto;
    border-radius: 15px;
    padding: 10px;
    margin-bottom: 10px;
    background: linear-gradient(to right, rgb(207, 206, 206) 50%, #c0c0c0 50%); /* Gradient */
}

  .label {
    flex: 1;
    text-align: center;
  }
  .containers {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 10vh;
}
/* Text in A */
/* Text in A */
/* Text in A */
.label-text-A {
  color: #0000FF; /* Meerblau */
  font-style: italic; /* Kursiver Textstil */
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Textschatten */
}

/* Text in B */
.label-text-B {
  color: #9900cc; /* Violette Textfarbe für Text in B auf dunklem Hintergrund */
  font-style: italic; /* Kursiver Textstil */
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Textschatten */
}
.container {
  display: flex;
  justify-content: center; /* Zentriert die Tabelle horizontal */
  margin: 0 auto; /* Zur Horizontalen zentrierung */
  padding: 0 8%;
  max-width: 100%;
}

.table-container {
  overflow-x: auto;
  margin-bottom: 20px;
  max-width: 100%;
}

.sortable-table {
  border-collapse: collapse;
  font-size: 16px;
  width: auto;
  transform-origin: top left;
}

.sortable-table th, .sortable-table td {
  border: 1px solid #ddd;
  padding: 23px;
  text-align: left;
}

.sortable-table th {
  background-color: #f2f2f2;
  cursor: pointer;
  position: relative;
}

.sortable-table th .arrow {
  margin-left: 5px;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.sortable-table th:hover {
  background-color: #ddd;
}

.sortable-table th:last-child, .sortable-table td:last-child {
  border-right: none;
}

.sortable-table tr:nth-child(even) {
  background-color: #f2f2f2;
}

.sortable-table tr:hover {
  background-color: #ddd;
}

.unsortable {
  pointer-events: none;
  user-select: none;
  cursor: default;
}

.select-strategy-select, .style-select, .select-show {
  width: 60px;
  font-size: 14px;
}

.rounded {
  border-radius: 10px;
}


</style>
</head>
<body>

  <div class="title">KesselLutschi</div>
  <textarea id="number-input" class="number-input" rows="5" placeholder="Enter numbers separated by spaces"></textarea>
  <div class="button-container">
    <button id="confirm-button" class="confirm-button">Save</button>
    <button id="download-button" class="download-button">Download</button>
    <button id="load-button" class="load-button">Load JSON File</button>
    <!-- Use an input type="file" for loading images -->
    <input type="file" id="file-input" accept="image/*" style="display: none;">
    <label for="file-input" class="file-input">Load Image</label>
  </div>
  
  <br>
  
  <div class="containers">
    <div class="content">
      <input type="text" id="input1">
      <input type="text" id="input2">
      <label id="pp" for="input1">Label:</label>
    </div>
  </div>
   
  <!-- Insert provided HTML code here -->
  <div id="main-container"></div>
  <div class="container">
    <div class="table-container">
      <table class="sortable-table">
        <thead>
          <tr>
            <th> Strategy 
              <select class="select-strategy-select">
                <option value="all" data-number="1">All</option>
                <option value="third" data-number="2">Third</option>
                <option value="quarter" data-number="3">Quarter</option>
                <option value="half" data-number="4">Half</option>
                <option value="2-thirds" data-number="5">2-Thirds</option>
                <option value="3-quarters" data-number="6">3-Quarters</option>
              </select>
              <select class="select-show">
                <option value="all1" data-number="1">All</option>
                <option value="green" data-number="2">Ready</option>
                <option value="red" data-number="3">False</option>
              </select>
            </th>
            <th>Style
              <select class="style-select">
                <option value="all2" data-number="1">All</option>
                <option value="left" data-number="2">Left</option>
                <option value="right" data-number="3">Right</option>
                <option value="middle" data-number="4">Middle</option>
                <option value="most" data-number="5">Most</option>
              </select>
            </th>
            <th class="sortable" data-type="numeric">Numbers <span class="arrow">&#x25B2;</span></th>
            <th class="sortable" data-type="numeric">Count <span class="arrow">&#x25B2;</span></th>
            <th class="sortable" data-type="numeric">Percent <span class="arrow">&#x25B2;</span></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>All</td>
            <td>All</td>
            <td class="unsortable">1</td>
            <td>10</td>
            <td>20%</td>
          </tr>
          <tr>
            <td>Third</td>
            <td>Left Right</td>
            <td class="unsortable">2</td>
            <td>5</td>
            <td>10%</td>
          </tr>
          <tr>
            <td>Quarter</td>
            <td>Middle</td>
            <td class="unsortable">3</td>
            <td>15</td>
            <td>30%</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <input type="file" id="file-input" accept="image/*">
  <script src='https://unpkg.com/tesseract.js@v2.1.0/dist/tesseract.min.js'></script>
  <script>
    let strategyNumber = 0;
    let showNumber = 0;
    let styleNumber = 0;
    let numbersArray = [[], []];
    
    




    // Get references to the select elements
    const strategySelect = document.querySelector('.select-strategy-select');
    const showSelect = document.querySelector('.select-show');
    const styleSelect = document.querySelector('.style-select');

    // Event listener for strategy select
    strategySelect.addEventListener('change', function() {
      const selectedOption = strategySelect.options[strategySelect.selectedIndex];
      strategyNumber = parseInt(selectedOption.dataset.number);
      console.log('Selected Strategy Number:', strategyNumber);
    });

    // Event listener for show select
    showSelect.addEventListener('change', function() {
      const selectedOption = showSelect.options[showSelect.selectedIndex];
      showNumber = parseInt(selectedOption.dataset.number);
      console.log('Selected Show Number:', showNumber);
    });

    // Event listener for style select
    styleSelect.addEventListener('change', function() {
      const selectedOption = styleSelect.options[styleSelect.selectedIndex];
      styleNumber = parseInt(selectedOption.dataset.number);
      console.log('Selected Style Number:', styleNumber);
    });















    // Funktion zum Anpassen der Schriftgröße basierend auf der Container-Breite
// Funktion zum Anpassen der Schriftgröße, bis der Text innerhalb des Containers passt
// Funktion zum Anpassen der Schriftgröße, bis der Text innerhalb des Containers passt
document.addEventListener('DOMContentLoaded', function() {
  const arrows = document.querySelectorAll('.arrow');

  arrows.forEach(arrow => {
    arrow.addEventListener('click', function() {
      const th = arrow.parentElement;
      const column = th.cellIndex;
      const table = th.closest('table');
      const type = th.dataset.type;

      // Toggle arrow direction
      if (arrow.classList.contains('asc')) {
        arrow.classList.remove('asc');
        arrow.classList.add('desc');
      } else {
        arrow.classList.remove('desc');
        arrow.classList.add('asc');
      }

      const rows = Array.from(table.querySelectorAll('tbody tr'));

      rows.sort((rowA, rowB) => {
        let valueA, valueB;

        if (type === 'numeric') {
          valueA = parseFloat(rowA.cells[column].textContent);
          valueB = parseFloat(rowB.cells[column].textContent);
        } else {
          valueA = rowA.cells[column].textContent;
          valueB = rowB.cells[column].textContent;
        }

        if (arrow.classList.contains('asc')) {
          return valueA > valueB ? 1 : -1;
        } else {
          return valueA < valueB ? 1 : -1;
        }
      });

      // Rearrange rows
      table.querySelector('tbody').innerHTML = '';
      rows.forEach(row => table.querySelector('tbody').appendChild(row));
    });
  });
});






function adjustFontSize() {
  const containers = document.querySelectorAll('.label-container');
  containers.forEach(container => {
    const labelA = container.querySelector('.label-text-A');
    const labelB = container.querySelector('.label-text-B');
    const containerWidth = container.offsetWidth;
    const maxFontSize = 24; // Maximal zulässige Schriftgröße
    const reductionStep = 2; // Schrittgröße für die Reduktion der Schriftgröße

    let fontSize = maxFontSize; // Starte mit der maximalen Schriftgröße

    // Schleife, um die Schriftgröße schrittweise zu reduzieren, bis der Text passt
    while (labelA.offsetWidth > containerWidth / 2 || labelB.offsetWidth > containerWidth / 2) {
      fontSize -= reductionStep;
      if (fontSize <= 0) break; // Abbruch, wenn die Schriftgröße 0 oder negativ wird
      labelA.style.fontSize = fontSize + 'px';
      labelB.style.fontSize = fontSize + 'px';
    }
  });
}
window.addEventListener('resize', function() {
  resizeTable();
});

function resizeTable() {
  var tableContainer = document.querySelector('.table-container');
  var table = document.querySelector('.sortable-table');
  var containerWidth = tableContainer.offsetWidth;
  var tableWidth = table.offsetWidth;
  var scaleFactor = containerWidth / tableWidth;

  table.style.transform = 'scale(' + scaleFactor + ')';
}



// Ruf die Funktion einmal beim Laden der Seite auf
window.addEventListener('load', adjustFontSize);

// Ruf die Funktion erneut auf, wenn sich die Fenstergröße ändert
window.addEventListener('resize', adjustFontSize);

    
    
    document.getElementById('file-input').addEventListener('change', function(event) {
      // Get the selected image file
      var files = event.target.files;
      // Check if there are selected files
      if (files.length > 0) {
        var file = files[0];
        // Check if the file is an image
        if (file.type.startsWith('image/')) {
          // Perform action to recognize text in the selected image
          console.log('Image selected:', file.name);
          // Create a new file reader to read the selected image file
          var reader = new FileReader();
          reader.onload = function(event) {
            // Read the image data as a data URL
            var imageData = event.target.result;
            // Perform text recognition on the loaded image data
            Tesseract.recognize(imageData, "eng", {})
              .then(out => {
                // Extract the recognized text from the result
                var output = out.data.text;
                console.log(output);
                var textarea = document.getElementById('number-input');
                textarea.value += output;
              })
              .catch(err => {
                console.error('Error recognizing text:', err);
              });
          };
          // Read the selected image file as a data URL
          reader.readAsDataURL(file);
        } else {
          console.log('File is not an image:', file.name);
        }
      }
    });
    
 
  let f = 0;
  const input1 = document.getElementById('input1');
  const input2 = document.getElementById('input2');

  console.log(parseInt(input2.value));
  const rouletteOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

  input2.addEventListener('input', function(event) {
    let nextNumberIndex = rouletteOrder.indexOf(parseInt(input1.value));
    console.log(nextNumberIndex);
    if(nextNumberIndex + parseInt(input2.value) <= 36) { 
      f = (nextNumberIndex + parseInt(input2.value));
      
    }
    if(nextNumberIndex + parseInt(input2.value) > 36) { 
      f = nextNumberIndex + parseInt(input2.value) - 37;
      
    }
    
    // For example, update another element with the new value
    const pp = document.getElementById('pp');
    let ff = rouletteOrder[f];
    pp.innerHTML = ff.toString();
  });
  // Example: Logging the value of input1
  
  // Define the number of iterations
  const iterations = 37;

  // Define the roulette order
  // Get the main container
  const mainContainer = document.getElementById('main-container');

  // Loop to create the structure dynamically
  for (let i = 0; i < iterations; i++) {
    // Create div container
   
    

    // Create label container
    const labelContainer = document.createElement('div');
    labelContainer.classList.add('label-container');

    // Create labels
    for (let j = 0; j < 4; j++) {
      const label = document.createElement('label');
      label.textContent = ``;
      label.classList.add('label', j % 2 === 0 ? 'left' : 'right');
      labelContainer.appendChild(label);
    }

    // Append label container to div container
  

    // Append div container to main container
    mainContainer.appendChild(labelContainer);
  }







  // Function to calculate neighbors
  function calculateNeighbors(numbersArray) {
    const neighbors = {};
    let bool = true;
    let A = [];
    let B = [];
    let Neighbors = 0;
    for (let i = 0; i < numbersArray.length-1; i++) {
        const number = numbersArray[i + 1];
        const prevnumber = numbersArray[i];
        console.log("Number:", number);
        console.log("Previous Number:", prevnumber);
        const rouletteOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
        let nextNumberIndex = rouletteOrder.indexOf(parseInt(number));
        let prevNumberIndex = rouletteOrder.indexOf(parseInt(prevnumber));
        console.log("Position of next number:", nextNumberIndex);
        console.log("Position of previous number:", prevNumberIndex);
        if (prevnumber === 'f') {
            bool = true;
        } if (prevnumber === 'b') {
            bool = false;
        }
        if (bool &&  prevnumber !== 'x' && prevnumber !== 'f' && prevnumber !== 'b' && number !== 'x' && number !== 'f' && number !== 'b') {
        let f = 0;
        if(nextNumberIndex - prevNumberIndex > 0) { f = nextNumberIndex - prevNumberIndex }
        if(nextNumberIndex - prevNumberIndex < 0) { f = 37 + (nextNumberIndex - prevNumberIndex)}
            A.push(f);
            console.log("Gezählte Nachbarn F:",f );
        } 
        if (!bool && prevnumber !== 'x' && prevnumber !== 'f' && prevnumber !== 'b' && number !== 'x' && number !== 'f' && number !== 'b') {
            let b = 0;
        if(nextNumberIndex - prevNumberIndex > 0) { b = nextNumberIndex - prevNumberIndex }
        if(nextNumberIndex - prevNumberIndex < 0) { b = 37 + (nextNumberIndex - prevNumberIndex)}
            
            B.push(b);
            console.log("Gezählte Nachbarn B:",b );

        }
        
    }
    console.log("Array A:", A);
    console.log("Array B:", B);
    return [A, B];
}

function calculateNeighborsKessel(numbersArray) {
  const neighbors = {};
  let bool = true;
  let A = [];
  let B = [];
  let Neighbors = 0;
  for (let i = 0; i < numbersArray.length-1; i++) {
      const number = numbersArray[i + 1];
      const prevnumber = numbersArray[i];
      console.log("Number:", number);
      console.log("Previous Number:", prevnumber);
      const rouletteOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
      let nextNumberIndex = rouletteOrder.indexOf(parseInt(number));
      let prevNumberIndex = rouletteOrder.indexOf(parseInt(prevnumber));
      console.log("Position of next number:", nextNumberIndex);
      console.log("Position of previous number:", prevNumberIndex);
      if (prevnumber === 'f') {
          bool = true;
      } if (prevnumber === 'b') {
          bool = false;
      }
      if (bool) {
      if(prevnumber === 'x' || prevnumber === 'f' || prevnumber === 'b' && number === 'x' || number === 'f' || number === 'b'){  A.push("k");}
      else{
      let f = 0;
      if(nextNumberIndex - prevNumberIndex > 0) { f = nextNumberIndex - prevNumberIndex }
      if(nextNumberIndex - prevNumberIndex < 0) { f = 37 + (nextNumberIndex - prevNumberIndex)}
          A.push(f);
          console.log("Gezählte Nachbarn F:",f );
      }
      }
      if (!bool) {
      if(prevnumber === 'x' || prevnumber === 'f' || prevnumber === 'b' || number === 'x' || number === 'f' || number === 'b'){B.push("k");}
      else{
      let b = 0;
      if(nextNumberIndex - prevNumberIndex > 0) { b = nextNumberIndex - prevNumberIndex }
      if(nextNumberIndex - prevNumberIndex < 0) { b = 37 + (nextNumberIndex - prevNumberIndex)}
          
          B.push(b);
          console.log("Gezählte Nachbarn B:",b );

      }
      }
      
  }
  console.log("Array A:", A);
  console.log("Array B:", B);
  return [A, B];
}
function evaluateArray(arr) {
  // Initialisiere das Mehrdimensionale Array zur Speicherung der Ergebnisse
  let resultArray = [];
  let nesw = [];
  // Definiere die Array-Länge für den Iterationsbereich
  let arrayLength = arr.length;

  // Iteriere über das Array mit drei verschachtelten forEach-Schleifen
  [2, 3, 4, 5, 6, 7].forEach(num1 => {
      [27, 24, 18, 12, 9].forEach(num2 => {
          [0, 1, 2, 3].forEach(num3 => { // Add foreach loop for num3
              let isValid = true; // Setze die Bedingung zunächst auf gültig
              let hasK = false; // Initialisiere den Wert für 'k'
              let diff = -1;
         
              // Überprüfe, ob genug Elemente im Array vorhanden sind
              if (arrayLength < num1) {
                  isValid = false; // Setze die Bedingung auf ungültig, wenn nicht genügend Elemente vorhanden sind
              } else {
                  for (let i = arrayLength - num1; i < arrayLength; i++) {
                      // Überprüfe, ob das Kriterium erfüllt ist
                       diff = Math.max(...arr.slice(i - num1 + 1, i + 1)) - Math.min(...arr.slice(i - num1 + 1, i + 1));
                      if (diff > num2) {
                          isValid = false; // Setze die Bedingung auf ungültig, wenn das Kriterium nicht erfüllt ist
                          break; // Beende die Schleife, wenn die Bedingung nicht erfüllt ist
                      }
                      if (arr[i] === 'k') {
                          hasK = true; // Setze 'k' auf true, wenn es zwischen den letzten 'num1' Elementen vorkommt
                      }
                  }
              }
           
            if (num3 === 0 && isValid === true) {
              //ubrige nachbare
                const u1 = 36 - num2 + diff; 
                console.log("Zero");
                //Links kleiner
                for (let i = u1; i <= num2 + u1; i++) {
                  console.log("Iteration " + i);
                  nesw.push(i);
               

                

            }
            if (num3 === 1 && isValid === true) {

              const u2 = 36 - num2 + diff;  //Umgekehrtr - reserverit + freie noch
              for (let i = u2 * -1; i <= num2 - u2; i++) {
                console.log("Iteration " + i);
                nesw.push(i);

              }
              
            }
            if (num3 === 2 && isValid === true) {
              const u3 = 36- num2 + diff; 
              for (let i = 0; i <= num2; i++) {
                console.log("Iteration " + i);
                nesw.push(i);

              }
            }
            if (num3 === 3 && isValid === true) {
                console.log("Three");
                nesw.push(i);
            }

            }
              // Füge das Ergebnis in das Mehrdimensionale Array ein
              let result = isValid ? (hasK ? 'F' : 'T') : 'F'; // Wenn isValid true ist, prüfe ob 'k' vorhanden ist, ansonsten ist das Ergebnis 'F'
              resultArray.push([num1, num2, num3, diff, result]);
          });
      });
  });

  return resultArray;
}









// Beispielaufruf der Funktion mit dem Array 'sortedPercentages'


  document.getElementById('confirm-button').addEventListener('click', function() {
    const numbersInput = document.getElementById('number-input').value.trim();
    
      // Extract numbers and remove non-numeric characters
      numbersArray = numbersInput.split(/[ ,\n]+/).filter(num => !isNaN(num) || num === 'x' || num === 'f' || num === 'b');
      const letzteZahl = numbersArray[numbersArray.length - 1];
      console.log(numbersArray);
      //const neighbors = calculateNeighbors(numbersArray);
      const [A, B] = calculateNeighbors(numbersArray);
      
        console.log("s",A);
        console.log(B); 

        const sortedA = calculatePercentage(A);
        const sortedB = calculatePercentage(B);


        console.log("Sorted Array A:", sortedA);
        console.log("Sorted Array B:", sortedB);
       

        function calculatePercentage(array) {
          const percentages = {};
          const length = array.length;
          array.forEach(number => {
            percentages[number] = (percentages[number] || 0) + (1 / length * 100);
        });
    
        // Convert to an array of objects with count, number, and percentage
        const sortedPercentages = Object.entries(percentages).sort((a, b) => b[1] - a[1]);
       const rouletteOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
        const numbersInput = document.getElementById('number-input').value.trim();
        const numbersArray = numbersInput.split(/[ ,\n]+/).filter(num => !isNaN(num));
        const furz = numbersArray[numbersArray.length - 1];
        console.log("Furzy" + furz)
    
        const result = sortedPercentages.map(entry => {
            const number = parseInt(entry[0]);
            const percentage = entry[1];
            
            let nextNumberIndex = number;
            let neighborIndex = nextNumberIndex + rouletteOrder.indexOf(parseInt(furz));
            console.log(rouletteOrder.indexOf(parseInt(furz))), "NN";
            console.log(nextNumberIndex);
            // Adjust neighborIndex to stay within the bounds of the rouletteOrder array
            if (neighborIndex >= rouletteOrder.length) {
                neighborIndex -= rouletteOrder.length;
            }
           
    
            const oppositeNeighbor = rouletteOrder[neighborIndex];
    
            return {
                count: percentage / 100 * length, // Calculate count
                number: number, // Convert number to integer
                percentage: percentage, // Keep percentage
                bet: oppositeNeighbor // Assign the opposite neighbor as the bet
            };
        });

    return result;
}
function calculateOppositeNeighbor(numberInput) {
  const rouletteOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];
  const numbersArray = numbersInput.split(/[ ,\n]+/).filter(num => !isNaN(num));
  
  const furz = numbersArray[numbersArray.length - 1];

  let nextNumberIndex = numberInput[i];
  let neighborIndex = nextNumberIndex + rouletteOrder.indexOf(parseInt(furz));

  // Adjust neighborIndex to stay within the bounds of the rouletteOrder array
  if (neighborIndex >= rouletteOrder.length) {
      neighborIndex -= rouletteOrder.length;
  }

  return rouletteOrder[neighborIndex];
}
        // Calculate percentages and sort arrays A and B
        for (let i = 1; i <= 37; i++) {
    // Text innerhalb von Label 1 (Label 1)
    const AElement = sortedA[i - 1] || { count: "", number: "", percentage: "" }; // Indexing starts from 0, so the first element is at index 0

    // Accessing properties of the element
    const cA = AElement.count !== null && AElement.count !== undefined && AElement.count !== "" ? Math.round(AElement.count) : "";
    const nA = AElement.number !== null && AElement.number !== undefined ? AElement.number.toString() : "";
    const pA = AElement.percentage !== null && AElement.percentage !== undefined && !isNaN(parseFloat(AElement.percentage)) ? parseFloat(AElement.percentage).toFixed(2) : ""; // Round to 3 decimal places if it's a valid number
    const ppops = AElement.bet;
    const nrA = AElement.bet !== null && AElement.bet !== undefined ? `  ${AElement.bet.toString()}` : "";

    console.log(ppops);
    const BElement = sortedB[i - 1] || { count: "", number: "", percentage: "" }; // Indexing starts from 0, so the first element is at index 0

    // Accessing properties of the element
    const cB = BElement.count !== null && BElement.count !== undefined && BElement.count !== "" ? Math.round(BElement.count) : "";
    const nB = BElement.number !== null && BElement.number !== undefined ? BElement.number.toString() : "";
    const pB = BElement.percentage !== null && BElement.percentage !== undefined && !isNaN(parseFloat(BElement.percentage)) ? parseFloat(BElement.percentage).toFixed(2) : ""; // Round to 3 decimal places if it's a valid number
    const prB = BElement.bet !== null && BElement.bet !== undefined ? `  ${BElement.bet.toString()}` : "";

    // Additional text for percentage
    const percentageTextA = pA ? " (" + pA + "%)" : "";
    const percentageTextB = pB ? " (" + pB + "%)" : "";

    // Text innerhalb von Label 1 (Label 1)
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(1)`).textContent = nA + nrA;
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(2)`).textContent = cA + percentageTextA;
    
    // Labels innerhalb von B
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(3)`).textContent = nB + prB;
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(4)`).textContent = cB + percentageTextB;
    
    // Klassen für die Textfarben hinzufügen
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(1)`).classList.add('label-text-A');
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(2)`).classList.add('label-text-A');
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(3)`).classList.add('label-text-B');
    document.querySelector(`.label-container:nth-child(${i}) label:nth-child(4)`).classList.add('label-text-B');
}

const [Ass, Bss] = calculateNeighborsKessel(numbersArray);
console.log("AdsaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaS:", Ass);
console.log("BsadddddddddddddddddddddddddddddddddddS:", Bss);


let result = evaluateArray(Ass);
console.log("BENJAMINDERELEFANT:", result);











   
  });


  document.getElementById('download-button').addEventListener('click', function() {
   
  });

  document.getElementById('load-button').addEventListener('click', function() {
    document.getElementById('file-input').click();
  });

  document.getElementById('file-input').addEventListener('change', function(event) {
    const file = event.target.files[0];
    const reader = new FileReader();
    reader.onload = function(e) {
      const content = e.target.result;
      try {
        const parsedData = JSON.parse(content);
        if (parsedData && parsedData.numbers && Array.isArray(parsedData.numbers)) {
          document.getElementById('number-input').value = parsedData.numbers.join(' ');
        } else {
          alert('Invalid JSON format. Please select a valid JSON file.');
        }
      } catch (error) {
        alert('Error parsing JSON. Please select a valid JSON file.');
      }
    };
    reader.readAsText(file);
  });
</script>

</body>
</html>
